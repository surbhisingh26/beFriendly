{{>head}} {{>header}} {{>side_navbar}}
<div class="page-wrapper">
	<!-- ============================================================== -->
	<!-- Container fluid  -->
	<!-- ============================================================== -->
	<div class="container-fluid custom-scroll" style="overflow-y:scroll;height:100vh;">
	<div>
			<button
				class="right-side-toggle waves-effect waves-light btn-success btn btn-circle btn-sm pull-right m-l-10">
				<i class="ti-settings text-white"></i>
			</button>
		</div>
		
		<div class="">
			<button
				class="right-side-toggle-chat waves-effect waves-light btn-danger btn btn-circle btn-sm pull-right chat-btn"
				onclick="ajaxRequest('onlinefriends','POST',{}, {dataType:'json',callback:onlineFriends})">
				<i class="fa fa-superpowers text-white"></i>
			</button>
		</div>
		<!-- ============================================================== -->
		<!-- Bread crumb and right sidebar toggle -->
		<!-- ============================================================== -->
		<div class="row page-titles">
			<div class="col-md-5 col-8 align-self-center m-0">
				<h4 class="text-themecolor mb-0 mt-0">Timeline</h4>
				<ol class="breadcrumb m-0">
					<li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
					<li class="breadcrumb-item active">Timeline</li>
				</ol>
			</div>
			<div class="col-md-7 col-4 align-self-center"></div>
		</div>
		<!-- ============================================================== -->
		<!-- End Bread crumb and right sidebar toggle -->
		<!-- ============================================================== -->
		<!-- ============================================================== -->
		<!-- Start Page Content -->
		<!-- ============================================================== -->
		<div class="row">
			<div class="col-12">
				<div class="card card-style">
					<div class="card-body p-2">
						<form action="addstatus">
							<textarea class="form-control custom-scroll .textarea border border-top-0 border-bottom-0" placeholder="Share Your Status..."
								rows="2" style="margin-top: 5px; border-radius: 5px;"
								id="statusMessage" name="status"></textarea>
							<button class="btn btn-info mb-2" type="submit"
								style="border-radius: none;">Share</button>
						</form>
						
						
						<div class="card-columns">
						{{#activityList}}
						
						
							{{#uploadpic}}
							<div class="card timelinecard">
							<div class="card-body">
							<button type="button" class="close pl-1 pr-1" data-toggle="dropdown"
										aria-haspopup="true" aria-expanded="true">&times;</button>
								<div class="badge-circle badge{{_id}} float-left m-2">
									<a href="friendprofile?fid={{uid}}"> <img
										class="badge-img" alt="user"
										src="{{#friendInfo}}{{imagepath}}{{/friendInfo}}" alt="img"></a>
								</div>
						<h5 class="card-title m-2">
						<strong>{{#friendInfo}}{{name}}{{/friendInfo}} </strong>Shared new image
						</h5>
						<p>
											<i class="fa fa-clock-o text-muted p-0" style="position:relative;top:2px"></i> <small
												class="text-muted timeAgo">{{#activity}}{{date}}{{/activity}}</small>
										</p>
						<div class="timeline-panel timeline{{_id}}" style="border:0px">
									{{#if myactivity}}
									
									<div class="dropdown-menu animated fadeIn p-0">
										<button class="dropdown-item"
											onclick="ajaxRequest('hidepost', 'POST', {typeId:'{{_id}}'}, {dataType:'json', callback:hidePost})">Hide from timeline</button>
										<div class="dropdown-divider m-0"></div>
										<button class="dropdown-item" data-toggle="modal" data-target=".deleteWarning"
											onclick="ajaxRequest('#', 'POST', {typeId:'{{_id}}'}, {dataType:'json', callback:deletePost})">Delete</button>

									</div>
									{{/if}}
									
									<div class="timeline-body text-center">
										<img class="img-thumbnail timeline-image" src="{{path}}">
											<div class="text-center">
										<div class="like-comm btn-group">

											<button type="button" class="btn btn-secondary btn-xs comment"
												data-container="body"
												onclick="ajaxRequest('showcomments','POST',  {typeId:'{{_id}}' }, {dataType:'json', callback:commentBox})">
												<a href="javascript:void(0)" class="link comment">{{#activity}}{{comments}}{{/activity}} <i class="mdi  mdi-comment"></i></a>
											</button>

											<button type="button" class="btn btn-secondary btn-xs  heart"
												data-container="body"
												onclick="ajaxRequest('heartincrease','POST',{typeId:'{{_id}}',broken:false,fid:'{{uid}}'},{dataType:'json',callback:heartIncrease})">
												{{#if noAction}} <i class="fa fa-heart-o text-danger"></i>
												{{else}} {{^broken}} <i class="fa fa-heart text-danger"></i>
												{{/broken}} {{#if broken}} <i
													class="fa fa-heart-o text-danger"></i> {{/if}} {{/if}}
											</button>
											<button type="button" class="btn btn-secondary btn-xs  heartCount"
												data-container="body"
												onclick="ajaxRequest('heartfriend','POST',{typeId:'{{_id}}',broken:false},{dataType:'json',callback:heartFriend})"
												data-toggle="modal" data-target=".allFriends"
												class="model_img img-responsive">{{#activity}}{{hearts}}{{/activity}}
												Heart</button>
											<button type="button" class="btn btn-secondary btn-xs  heartBreak"
												data-container="body"
												onclick="ajaxRequest('heartincrease','POST',{typeId:'{{_id}}',broken:true,fid:'{{uid}}'},{dataType:'json',callback:heartIncrease})">

												{{#if broken}} <i class="mdi mdi-heart-broken"></i> {{else}}
												<div data-icon="X" class="linea-icon linea-basic"></div>
												{{/if}}
											</button>
											<button type="button"
												class="btn btn-secondary btn-xs  heartBreakCount"
												data-container="body"
												onclick="ajaxRequest('heartfriend','POST',{typeId:'{{_id}}',broken:true},{dataType:'json',callback:heartFriend})"
												data-toggle="modal" data-target=".allFriends"
												class="model_img img-responsive">{{#activity}}{{heartBreaks}}{{/activity}}
												Heartbreak</button>

										</div>
										</div>
										<div style="display: none;" class="divBox">
											<ul class="list-group" style="margin-top: 5px">
												<li class="list-group-item viewAll"
													style="display: none; background-color: #E5E7EA"><a
													href="javascript:void(0)"
													onclick="ajaxRequest('showcomments','POST', { typeId:'{{_id}}',skip:'0',limit:'15'}, {dataType:'json', callback:allComment})"
													class="text-center text-center" data-toggle="modal"
													data-target=".allComments" class="model_img img-responsive">View
														More Comments</a></li>
											</ul>

											<textarea class="form-control"
												placeholder="Type Your Comment" rows="2"
												style="background-color: #fff; margin-top: 5px"
												id="commentMessage{{_id}}"></textarea>
											<button type="button" class="btn btn-secondary btn-xs "
												onclick="ajaxRequest('addcomment','POST', {fid:'{{#activity}}{{uid}}{{/activity}}', typeId:'{{_id}}', comment:$('#commentMessage{{_id}}').val()}, {dataType:'json', callback:postComment})">Post</button>

										</div>
									</div>
								</div> 
								</div> 
								</div> 
								{{/uploadpic}} {{#profilepic}}
								<div class="card timelinecard">
							<div class="card-body">
<button type="button" class="close pl-1 pr-1" data-toggle="dropdown"
										aria-haspopup="true" aria-expanded="true">&times;</button>
								<div class="badge-circle badge{{_id}} float-left m-2">
									<a href="friendprofile?fid={{uid}}"> <img
										class="badge-img" alt="user"
										src="{{#friendInfo}}{{imagepath}}{{/friendInfo}}" alt="img"></a>
								</div>
						<h5 class="card-title m-2">
						<strong>{{#friendInfo}}{{name}}{{/friendInfo}}</strong> says My new DP <img src="img/emojis/happy.png" style="height:20px">
						</h5>
						<p>
											<i class="fa fa-clock-o text-muted" style="position:relative;top:2px"></i> <small
												class="text-muted timeAgo">{{#activity}}{{date}}{{/activity}}</small>
										</p>
								
						<div class="timeline-panel timeline{{_id}}" style="border:0px">
								
									{{#if myactivity}}
									
									<div class="dropdown-menu animated fadeIn p-0">
										<button class="dropdown-item"
											onclick="ajaxRequest('hidepost', 'POST', {typeId:'{{_id}}'}, {dataType:'json', callback:hidePost})">Hide from timeline</button>
										<div class="dropdown-divider m-0"></div>
										<button class="dropdown-item" data-toggle="modal" data-target=".deleteWarning"
											onclick="ajaxRequest('#', 'POST', {typeId:'{{_id}}'}, {dataType:'json', callback:hidePost})">Delete</button>

									</div>
									{{/if}}
									
									<div class="timeline-body text-center">
										<img class="img-thumbnail timeline-image" src="{{path}}">
											<div class="text-center">
										<div class="like-comm btn-group">

											<button type="button" class="btn btn-secondary btn-xs  comment"
												data-container="body"
												onclick="ajaxRequest('showcomments','POST',  {typeId:'{{_id}}' }, {dataType:'json', callback:commentBox})">
												<a href="javascript:void(0)" class="link comment">{{#activity}}{{comments}}{{/activity}} <i class="mdi  mdi-comment"></i>
												</a>
											</button>

											<button type="button" class="btn btn-secondary btn-xs  heart"
												data-container="body"
												onclick="ajaxRequest('heartincrease','POST',{typeId:'{{_id}}',broken:false,fid:'{{uid}}'},{dataType:'json',callback:heartIncrease})">
												{{#if noAction}} <i class="fa fa-heart-o text-danger"></i>
												{{else}} {{^broken}} <i class="fa fa-heart text-danger"></i>
												{{/broken}} {{#if broken}} <i
													class="fa fa-heart-o text-danger"></i> {{/if}} {{/if}}
											</button>
											<button type="button" class="btn btn-secondary btn-xs  heartCount"
												data-container="body"
												onclick="ajaxRequest('heartfriend','POST',{typeId:'{{_id}}',broken:false},{dataType:'json',callback:heartFriend})"
												data-toggle="modal" data-target=".allFriends"
												class="model_img img-responsive">{{#activity}}{{hearts}}{{/activity}}
												Heart</button>
											<button type="button" class="btn btn-secondary btn-xs  heartBreak"
												data-container="body"
												onclick="ajaxRequest('heartincrease','POST',{typeId:'{{_id}}',broken:true,fid:'{{uid}}'},{dataType:'json',callback:heartIncrease})">

												{{#if broken}} <i class="mdi mdi-heart-broken"></i> {{else}}
												<div data-icon="X" class="linea-icon linea-basic"></div>
												{{/if}}
											</button>
											<button type="button"
												class="btn btn-secondary btn-xs  heartBreakCount"
												data-container="body"
												onclick="ajaxRequest('heartfriend','POST',{typeId:'{{_id}}',broken:true},{dataType:'json',callback:heartFriend})"
												data-toggle="modal" data-target=".allFriends"
												class="model_img img-responsive">{{#activity}}{{heartBreaks}}{{/activity}}
												Heartbreak</button>

										</div>
										</div>
										<div style="display: none;" class="divBox">
											<ul class="list-group" style="margin-top: 5px">
												<li class="list-group-item viewAll"
													style="display: none; background-color: #E5E7EA"><a
													href="javascript:void(0)"
													onclick="ajaxRequest('showcomments','POST', { typeId:'{{_id}}',skip:'0',limit:'15'}, {dataType:'json',callback:allComment})"
													class="text-center text-center" data-toggle="modal"
													data-target=".allComments" class="model_img img-responsive">View
														More Comments</a></li>
											</ul>

											<textarea class="form-control"
												placeholder="Type Your Comment" rows="2"
												style="background-color: #fff; margin-top: 5px"
												id="commentMessage{{_id}}"></textarea>
											<button type="button" class="btn btn-secondary btn-xs "
												onclick="ajaxRequest('addcomment','POST', {fid:'{{#activity}}{{uid}}{{/activity}}', typeId:'{{_id}}', comment:$('#commentMessage{{_id}}').val()}, {dataType:'json', callback:postComment})">Post</button>

										</div>
									</div>
								</div>
								</div>
								</div>
							{{/profilepic}} {{#status}}
							<div class="card timelinecard">
							
							<div class="card-body">
							<button type="button" class="close pl-1 pr-1" data-toggle="dropdown"
									aria-haspopup="true" aria-expanded="true">&times;</button>
						<div class="badge-circle badge{{_id}} float-left m-2">
									<a href="friendprofile?fid={{uid}}"> <img
										class="badge-img" alt="user"
										src="{{#friendInfo}}{{imagepath}}{{/friendInfo}}" alt="img"></a>
								</div>
						<h5 class="card-title m-2">
						<strong>{{#friendInfo}}{{name}}{{/friendInfo}}</strong> says
						</h5>
								<p>
											<i class="fa fa-clock-o text-muted" style="position:relative;top:2px"></i> <small
												class="text-muted timeAgo">{{#activity}}{{date}}{{/activity}}</small>
										</p>
							

							<div class="timeline-panel timeline{{_id}}">
								{{#if myactivity}}
								
								<div class="dropdown-menu animated fadeIn p-0">
										<button class="dropdown-item"
											onclick="ajaxRequest('hidepost', 'POST', {typeId:'{{_id}}'}, {dataType:'json', callback:hidePost})">Hide from timeline</button>
										<div class="dropdown-divider m-0"></div>
										<button class="dropdown-item"
											onclick="ajaxRequest('deletepost', 'POST', {typeId:'{{_id}}'}, {dataType:'json', callback:deletePost})">Delete</button>

									</div>
								{{/if}}
								
								<div class="timeline-body">
									<div class="note-editable">

										<div class="card card-body p-2 mb-1" style="border:0px">
											<p style="font-family: courier; font-size: 15px;word-wrap:break-word">{{statusText}}</p>
										</div>
									</div>
									<div class="text-center">
									<div class="like-comm btn-group">

										<button type="button" class="btn btn-secondary btn-xs  comment"
											data-container="body"
											onclick="ajaxRequest('showcomments','POST',  {typeId:'{{_id}}' }, {dataType:'json', callback:commentBox})">
											<a href="javascript:void(0)" class="link comment">{{#activity}}{{comments}}{{/activity}} <i class="mdi  mdi-comment"></i></a>
										</button>

										<button type="button" class="btn btn-secondary btn-xs  heart"
											data-container="body"
											onclick="ajaxRequest('heartincrease','POST',{typeId:'{{_id}}',broken:false,fid:'{{uid}}'},{dataType:'json',callback:heartIncrease})">
											{{#if noAction}} <i class="fa fa-heart-o text-danger"></i>
											{{else}} {{^broken}} <i class="fa fa-heart text-danger"></i>
											{{/broken}} {{#if broken}} <i
												class="fa fa-heart-o text-danger"></i> {{/if}} {{/if}}
										</button>
										<button type="button" class="btn btn-secondary btn-xs  heartCount"
											data-container="body"
											onclick="ajaxRequest('heartfriend','POST',{typeId:'{{_id}}',broken:false},{dataType:'json',callback:heartFriend})"
											data-toggle="modal" data-target=".allFriends"
											class="model_img img-responsive">{{#activity}}{{hearts}}{{/activity}}
											Heart</button>
										<button type="button" class="btn btn-secondary btn-xs  heartBreak"
											data-container="body"
											onclick="ajaxRequest('heartincrease','POST',{typeId:'{{_id}}',broken:true,fid:'{{uid}}'},{dataType:'json',callback:heartIncrease})">

											{{#if broken}} <i class="mdi mdi-heart-broken"></i> {{else}}
											<div data-icon="X" class="linea-icon linea-basic"></div>
											{{/if}}
										</button>
										<button type="button"
											class="btn btn-secondary btn-xs  heartBreakCount"
											data-container="body"
											onclick="ajaxRequest('heartfriend','POST',{typeId:'{{_id}}',broken:true},{dataType:'json',callback:heartFriend})"
											data-toggle="modal" data-target=".allFriends"
											class="model_img img-responsive">{{#activity}}{{heartBreaks}}{{/activity}}
											Heartbreak</button>

									</div>
									</div>
									<div style="display: none;" class="divBox">
										<ul class="list-group" style="margin-top:5px">
											<li class="list-group-item viewAll"
												style="display: none; background-color: #E5E7EA"><a
												href="javascript:void(0)"
												onclick="ajaxRequest('showcomments','POST', { typeId:'{{_id}}',skip:'0',limit:'15'}, {dataType:'json', callback:allComment})"
												class="text-center text-center" data-toggle="modal"
												data-target=".allComments" class="model_img img-responsive">View
													More Comments</a></li>
										</ul>

										<textarea class="form-control" placeholder="Type Your Comment"
											rows="2" style="background-color: #fff; margin-top: 5px"
											id="commentMessage{{_id}}"></textarea>
										<button type="button" class="btn btn-secondary btn-xs "
											onclick="ajaxRequest('addcomment','POST', {fid:'{{#activity}}{{uid}}{{/activity}}', typeId:'{{_id}}', comment:$('#commentMessage{{_id}}').val()}, {dataType:'json', callback:postComment})">Post</button>

									</div>
								</div>
							</div>
							</div>
							</div>

							{{/status}}
						
						
						
						
						{{/activityList}}
						
						</div>
						
						
						
						
						
						
					</div>

				</div>
			</div>
		</div>

	</div>
</div>

{{>right_sidebar}} {{>foot}}
<script>
	function deletePost(data, extraInfo, response) {
	$('.typeId').val(data.typeId);
	}
	function hidePost(data, extraInfo, response) {
	
	$('.timeline' + data.typeId).hide();
	$('.badge' + data.typeId).hide();
	}
</script>
{{>end}}
